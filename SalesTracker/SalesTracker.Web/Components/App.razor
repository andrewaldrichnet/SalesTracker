@using SalesTracker.Shared
@using Microsoft.AspNetCore.Http

@inject IHttpContextAccessor httpContextAccessor

@if (httpContextAccessor.HttpContext.Request.Path.HasValue && httpContextAccessor.HttpContext.Request.Path.Value == "/")
{
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <base href="/" />
        <ResourcePreloader />
        <link rel="stylesheet" href="_content/SalesTracker.Shared/lib/bootstrap/dist/css/bootstrap.min.css" />
        <link rel="stylesheet" href="SalesTracker.Web.styles.css" />
        <ImportMap />
        <link rel="icon" type="image/png" href="_content/SalesTracker.Shared/favicon.png" />
        <HeadOutlet  />
    </head>

    <body>
        <Routes  />
        <script src="@Assets["_framework/blazor.web.js"]"></script>
    </body>

    </html>
}
else
{

    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <base href="/" />
        <ResourcePreloader />
        <link rel="stylesheet" href="_content/SalesTracker.Shared/lib/bootstrap/dist/css/bootstrap.min.css" />
        <link rel="stylesheet" href="_content/SalesTracker.Shared/app.css" />
        <link rel="stylesheet" href="SalesTracker.Web.styles.css" />
        <ImportMap />
        <link rel="icon" type="image/png" href="_content/SalesTracker.Shared/favicon.png" />
        <HeadOutlet @rendermode="@(new InteractiveWebAssemblyRenderMode(false))" />
    </head>

    <body>
        <div id="preload">
            <div class="progress w-100 mb-5" role="progressbar" style="height: 3px;">
                <div class="progress-bar"></div>
            </div>

            <div class="d-flex flex-column h-100 align-items-center justify-content-center py-5 text-center">
                <img src="_content/SalesTracker.Shared/images/Logo.png" width="150" height="150" />
                <div class="fs-5">Launching App...</div>
            </div>
        </div>
        <Routes @rendermode="@(new InteractiveWebAssemblyRenderMode(false))" />
        <script src="_content/SalesTracker.Web.Client/js/image-resizer.js"></script>
        <script src="@Assets["_framework/blazor.web.js"]"></script>
    </body>

    </html>            
}
